<div class="inner-content">
    <h1 class="dashboard-txt">Admin Dashboard</h1>
    <div class="dashboard-container">
        <div class="stat-card admin-card">
            <div class="card-icon">
                <i nz-icon nzType="user" nzTheme="outline" class="icon"></i>
            </div>
            <div class="card-content">
                <h3 class="card-title">Admins</h3>
                <p class="card-count">{{ adminCount }}</p>
                <p class="card-subtitle">Total Administrators</p>
            </div>
        </div>
        <div class="stat-card employee-card">
            <div class="card-icon">
                <i nz-icon nzType="team" nzTheme="outline" class="icon"></i>
            </div>
            <div class="card-content">
                <h3 class="card-title">Employees</h3>
                <p class="card-count">{{ employeeCount }}</p>
                <p class="card-subtitle">Total Employees</p>
            </div>
        </div>
        <div class="stat-card datetime-card">
            <div class="card-icon">
                <i nz-icon nzType="clock-circle" nzTheme="outline" class="icon"></i>
            </div>
            <div class="card-content">
                <h3 class="card-title">Current Time</h3>
                <p class="card-datetime">{{ currentDateTime }}</p>
                <p class="card-date">{{ currentDate }}</p>
            </div>
        </div>
    </div>
</div>

<div id="chart-container" #chartContainer>
  <h2 style="font-family: 'Chillax', sans-serif; font-size: 26px; font-weight: bolder; color: #a588be; margin: 0 0 24px 0; width: fit-content;">Charts</h2>
  <div *ngIf="isLoading" style="text-align: center; padding: 32px; font-size: 14px; color: #666;">Loading charts...</div>
  <div *ngIf="!isLoading" class="charts-grid">
    <div class="chart-card">
      <div class="chart-header">
        <h2 class="chart-title" style="font-size: 18px; margin: 0;">Position Distribution</h2>
        <div class="chart-actions">
          <button (click)="downloadChart('pie')" class="chart-download-btn" title="Download this chart">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none">
              <defs>
                <linearGradient id="pieGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" stop-color="#8B5CF6" />
                  <stop offset="100%" stop-color="#7C3AED" />
                </linearGradient>
              </defs>
              <path d="M12 4v10m0 0l3.5-3.5M12 14l-3.5-3.5" 
                    stroke="url(#pieGradient)" 
                    stroke-width="1.6" 
                    stroke-linecap="round"/>
              
              <rect x="5" y="17" width="14" height="4" 
                    rx="2" 
                    fill="url(#pieGradient)"/>
            </svg>
          </button>
        </div>
      </div>
      <apx-chart
        [series]="pieChartOptions.series"
        [chart]="pieChartOptions.chart"
        [labels]="pieChartOptions.labels"
        [colors]="pieChartOptions.colors"
        [legend]="pieChartOptions.legend"
        [dataLabels]="pieChartOptions.dataLabels"
      ></apx-chart>
    </div>
    <div class="chart-card">
      <div class="chart-header">
        <h2 class="chart-title" style="font-size: 18px; margin: 0;">Department Distribution</h2>
        <div class="chart-actions">
          <button (click)="downloadChart('column')" class="chart-download-btn" title="Download this chart">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none">
              <defs>
                <linearGradient id="columnGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" stop-color="#8B5CF6" />
                  <stop offset="100%" stop-color="#7C3AED" />
                </linearGradient>
              </defs>
              
              <path d="M12 4v10m0 0l3.5-3.5M12 14l-3.5-3.5" 
                    stroke="url(#columnGradient)" 
                    stroke-width="1.6" 
                    stroke-linecap="round"/>
              
              <rect x="5" y="17" width="14" height="4" 
                    rx="2" 
                    fill="url(#columnGradient)"/>
            </svg>
          </button>
        </div>
      </div>
      <apx-chart
        [series]="columnChartOptions.series"
        [chart]="columnChartOptions.chart"
        [colors]="columnChartOptions.colors"
        [plotOptions]="columnChartOptions.plotOptions"
        [legend]="columnChartOptions.legend"
        [xaxis]="columnChartOptions.xaxis"
        [yaxis]="columnChartOptions.yaxis"
        [tooltip]="columnChartOptions.tooltip"
        [grid]="columnChartOptions.grid"
      ></apx-chart>
    </div>
  </div>
</div>